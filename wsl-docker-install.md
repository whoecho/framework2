# üõ†Ô∏è –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ WSL 2 –∏ Docker –¥–ª—è Windows
## üìã –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Windows 10 –≤–µ—Ä—Å–∏–∏ 2004 –∏ –≤—ã—à–µ (—Å–±–æ—Ä–∫–∞ 19041 –∏ –≤—ã—à–µ) –∏–ª–∏ Windows 11

- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

- –í–∞—à–∏ —Ñ–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞ (Dockerfile, main.py, requirements.txt)

## üîß –®–∞–≥ 1: –í–∫–ª—é—á–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ WSL –≤ Windows
1. **–û—Ç–∫—Ä–æ–π—Ç–µ PowerShell –æ—Ç –∏–º–µ–Ω–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:**

- –ù–∞–∂–º–∏—Ç–µ Win + X –∏ –≤—ã–±–µ—Ä–∏—Ç–µ "Windows PowerShell (–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä)".

- –ò–ª–∏ –≤–≤–µ–¥–∏—Ç–µ "PowerShell" –≤ –ø–æ–∏—Å–∫ Windows, –Ω–∞–∂–º–∏—Ç–µ –ø—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π –∏ –≤—ã–±–µ—Ä–∏—Ç–µ "–ó–∞–ø—É—Å–∫ –æ—Ç –∏–º–µ–Ω–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞".

2. **–í–≤–µ–¥–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è WSL:**

    `wsl --install`

    –≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç WSL –∏ —Å–∫–∞—á–∞–µ—Ç –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤ Ubuntu –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

1. **–ï—Å–ª–∏ –∫–æ–º–∞–Ω–¥–∞ –≤—ã—à–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –≤—Ä—É—á–Ω—É—é:**

- `dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart`
- `dism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all /norestart`

    –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ –∫–æ–º–ø—å—é—Ç–µ—Ä –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥.

## üêß –®–∞–≥ 2: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤–∞ Linux
1. **–ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –æ–∫–Ω–æ Ubuntu –¥–ª—è –Ω–∞—á–∞–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.**

2. **–ü—Ä–∏–¥—É–º–∞–π—Ç–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ø–∞—Ä–æ–ª—å –¥–ª—è –≤–∞—à–µ–≥–æ WSL-–æ–∫—Ä—É–∂–µ–Ω–∏—è.**

    *–ü—Ä–∏ –≤–≤–æ–¥–µ –ø–∞—Ä–æ–ª—è —Å–∏–º–≤–æ–ª—ã –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è ‚Äî —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ.*

3. **–û–±–Ω–æ–≤–∏—Ç–µ –ø–∞–∫–µ—Ç—ã –≤ Ubuntu (–≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ WSL):**

    `sudo apt update && sudo apt upgrade -y`

4. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Docker –∏ Docker Compose**

    –°–ª–µ–¥—É–π—Ç–µ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–º –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Docker –Ω–∞ Ubuntu. –í—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ WSL:

```
    # –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω–¥–µ–∫—Å –ø–∞–∫–µ—Ç–æ–≤
    sudo apt update

    # –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–∞–∫–µ—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è–º–∏ –ø–æ HTTPS
    sudo apt install -y ca-certificates curl

    # –°–æ–∑–¥–∞–µ–º –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è –∫–ª—é—á–µ–π –∏ –¥–æ–±–∞–≤–ª—è–µ–º –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π GPG-–∫–ª—é—á Docker
    sudo install -m 0755 -d /etc/apt/keyrings
    sudo curl -fsSL https://download.docker.com/linux/ubuntu/gpg -o /etc/apt/keyrings/docker.asc
    sudo chmod a+r /etc/apt/keyrings/docker.asc

    # –î–æ–±–∞–≤–ª—è–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π Docker –≤ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ APT
    echo \
    "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.asc] https://download.docker.com/linux/ubuntu \
    $(. /etc/os-release && echo "$VERSION_CODENAME") stable" | \
    sudo tee /etc/apt/sources.list.d/docker.list > /dev/null

    # –°–Ω–æ–≤–∞ –æ–±–Ω–æ–≤–ª—è–µ–º –∏–Ω–¥–µ–∫—Å –ø–∞–∫–µ—Ç–æ–≤ –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
    sudo apt update

    # –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø–æ—Å–ª–µ–¥–Ω–∏–µ –≤–µ—Ä—Å–∏–∏ Docker Engine, Containerd –∏ Docker Compose Plugin
    sudo apt install -y docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
```
## üì¶ –®–∞–≥ 3: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker Desktop
1. **–°–∫–∞—á–∞–π—Ç–µ Docker Desktop –¥–ª—è Windows:**

- –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å–∞–π—Ç: https://www.docker.com/products/docker-desktop/

- –ù–∞–∂–º–∏—Ç–µ "Download for Windows".

2. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Docker Desktop:**

- –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫–∞—á–∞–Ω–Ω—ã–π —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫ `Docker Desktop Installer.exe`.

- –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –º–∞—Å—Ç–µ—Ä–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ (–≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é).

- **–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–æ—Å—Ç–∞–≤—å—Ç–µ –≥–∞–ª–æ—á–∫—É "Install required Windows components for WSL 2".**

- –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ –∫–æ–º–ø—å—é—Ç–µ—Ä, –∫–æ–≥–¥–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è.

3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ Docker Desktop –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å WSL 2:**

- –ó–∞–ø—É—Å—Ç–∏—Ç–µ Docker Desktop (–∏–∑ –º–µ–Ω—é "–ü—É—Å–∫").

- –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings** (–ù–∞—Å—Ç—Ä–æ–π–∫–∏) ‚Üí **General** (–û–±—â–∏–µ).

- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å—Ç–æ–∏—Ç –≥–∞–ª–æ—á–∫–∞ **Use the WSL 2 based engine**.

- –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings ‚Üí Resources ‚Üí WSL Integration**.

- –í–∫–ª—é—á–∏—Ç–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å –≤–∞—à–∏–º —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤–æ–º Ubuntu (–ø–µ—Ä–µ–¥–≤–∏–Ω—å—Ç–µ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å).

## üìÇ –®–∞–≥ 4: –ü–µ—Ä–µ–Ω–æ—Å —Ñ–∞–π–ª–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞ –≤ WSL
–í–∞—à–∏ —Ñ–∞–π–ª—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ Windows, –Ω–æ Docker –≤ WSL –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –∫ –Ω–∏–º –¥–æ—Å—Ç—É–ø. –ï—Å—Ç—å –¥–≤–∞ —Å–ø–æ—Å–æ–±–∞:

### –°–ø–æ—Å–æ–± 1: –ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ —Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É WSL (–ü—Ä–æ—â–µ)
- –í WSL –≤–∞—à–∏ –¥–∏—Å–∫–∏ Windows —É–∂–µ –ø–æ–¥–∫–ª—é—á–µ–Ω—ã.

- –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É —Å –≤–∞—à–∏–º –ø—Ä–æ–µ–∫—Ç–æ–º. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç –≤ `C:\Users\–í–∞—à–µ–ò–º—è\my_project`:

`cd /mnt/c/Users/–í–∞—à–µ–ò–º—è/my_project`

- C:\ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è /mnt/c/

- D:\ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è /mnt/d/ –∏ —Ç.–¥.

*–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, –±—É–∫–≤–∞ –¥–∏—Å–∫–∞ –ø–∏—à–µ—Ç—Å—è —Å **–º–∞–ª–µ–Ω—å–∫–æ–π –±—É–∫–≤—ã**!!*

### –°–ø–æ—Å–æ–± 2: –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –≤ –¥–æ–º–∞—à–Ω—é—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é WSL
1. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–æ–º–∞—à–Ω—é—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é WSL:**

    `cd ~`

2. **–°–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞:**

    ```
    mkdir my_project
    cd my_project
    ```

3. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª—ã –∏–∑ Windows-–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å —Ä–∞–±–æ—á–µ–≥–æ —Å—Ç–æ–ª–∞):**

    `cp -r /mnt/c/Users/–í–∞—à–µ–ò–º—è/Desktop/my_project/* .`

    –ó–∞–º–µ–Ω–∏—Ç–µ –ø—É—Ç—å –Ω–∞ –∞–∫—Ç—É–∞–ª—å–Ω—ã–π.

## üê≥ –®–∞–≥ 5: –†–∞–±–æ—Ç–∞ —Å Docker –≤ WSL
1. **–û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª WSL (Ubuntu):**

- –ú–æ–∂–Ω–æ —á–µ—Ä–µ–∑ Docker Desktop (–≤–∫–ª–∞–¥–∫–∞ WSL) –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ –Ω–∞–π–¥—è "Ubuntu" –≤ –º–µ–Ω—é "–ü—É—Å–∫".

2. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞** (–∏—Å–ø–æ–ª—å–∑—É—è –æ–¥–∏–Ω –∏–∑ —Å–ø–æ—Å–æ–±–æ–≤ –≤—ã—à–µ).

3. **–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Docker —Ä–∞–±–æ—Ç–∞–µ—Ç:**
    ```
    docker --version
    # –î–æ–ª–∂–Ω–∞ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å—Å—è –≤–µ—Ä—Å–∏—è Docker
    docker ps
    # –î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å –ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –±–µ–∑ –æ—à–∏–±–æ–∫

    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤–µ—Ä—Å–∏—é Docker Compose Plugin
    docker compose version

    # –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–µ—Å—Ç–æ–≤—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
    docker run hello-world
    ```
    –ï—Å–ª–∏ –∫–æ–º–∞–Ω–¥–∞ hello-world –≤—ã–ø–æ–ª–Ω–∏–ª–∞—Å—å –∏ –≤—ã–≤–µ–ª–∞ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ, —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ.

## üèóÔ∏è –®–∞–≥ 6: –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –≤–∞—à–µ–≥–æ FastAPI-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
1. **–°–æ–±–µ—Ä–∏—Ç–µ Docker-–æ–±—Ä–∞–∑** (–Ω–∞—Ö–æ–¥—è—Å—å –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞):

    `docker compose up -d --build`

    –§–ª–∞–≥ --build –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –ø–µ—Ä–µ—Å–æ–±–∏—Ä–∞–µ—Ç –æ–±—Ä–∞–∑ –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. 
    
    –§–ª–∞–≥ -d –∑–∞–ø—É—Å–∫–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ (daemon).
    
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—Å—Ç–∏–ª—Å—è:**

    `docker ps`
    
    –í —Å–ø–∏—Å–∫–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã (`service_users`, `service_orders` –∏ `api_gateway`) —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º "Up".

## ‚úÖ –®–∞–≥ 7: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã API
1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞** (—É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–µ—Ç –æ—à–∏–±–æ–∫):

    docker compose logs api_gateway
    docker compose logs service_users
    docker compose logs service_orders

    *–í –ª–æ–≥–∞—Ö –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ, —á—Ç–æ Uvicorn –∑–∞–ø—É—â–µ–Ω –Ω–∞ 0.0.0.0:8000.*

2. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç `/status`:

    –ò–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ WSL:

    `curl http://localhost:8000/status`

    –ò–ª–∏ –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞/Postman –Ω–∞ –≤–∞—à–µ–π Windows:
    - –û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost:8000/status

    –û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç: {"status":"API Gateway is running"}
